containers:
  laravel:
    environ: &env
      ENV_CONTAINER: 1
    setup:
    - !Alpine v3.3
    - !Install
      - php-ctype
      - php-pdo_sqlite
    - !Env { <<: *env }
    - !Text
      /work/.env: |
          APP_ENV=local
          APP_DEBUG=true
          APP_KEY=SomeRandomString
          APP_URL=http://localhost
    - !ComposerDependencies
    - !Sh php artisan key:generate

commands:
  run: !Command
    container: laravel
    description: run the laravel development server
    run: php artisan serve
